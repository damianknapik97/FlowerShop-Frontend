<div class="payment-form container-fluid no-gutters">
  <form #form="ngForm" (ngSubmit)="form.form.valid && ngbCalendar.isValid(date)">
    <div class="form-group">
      <label for="input-message">Note that you would want to attach to your gift</label>
      <input type="text"
             class="form-control"
             id="input-message"
             [(ngModel)]="orderDetails.message"
             name="message"
             #message="ngModel"
             [ngClass]="{ 'is-invalid': form.submitted && message.invalid }"
             required="true" maxlength="50">
      <small class="form-text text-muted">(Max 50 characters)</small>
      <div class="validation-error-message text-danger" *ngIf="form.submitted && message.invalid">
        <div *ngIf="message.errors.required">Message can not be empty</div>
        <div *ngIf="message.errors.maxlength">Message can not excess 50 characters limit.</div>
      </div>
    </div>
    <label for="input-delivery-date">Delivery date</label>
    <div class="form-row">
      <div class="date-picker input-group col-3">
        <input class="form-control"
               id="input-delivery-date"
               placeholder="yyyy-mm-dd"
               name="datePicker"
               [(ngModel)]="date"
               ngbDatepicker
               #datePicker="ngbDatepicker"
               #datePickerModel="ngModel"
               [minDate]="minimalDate"
               [outsideDays]="'hidden'"
               required="true"
               minDate
               maxlength="10">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary calendar" (click)="datePicker.toggle()" type="button">Select</button>
        </div>
        <div class="validation-error-message text-danger" *ngIf="form.submitted && datePickerModel.invalid">
          Minimal delivery date does not match
          <div class="validation-error-message text-danger" *ngIf="datePickerModel.errors.required">Delivery date can not be empty</div>
          <div class="validation-error-message text-danger" *ngIf="!ngbCalendar.isValid(date)">Invalid date format</div>
        </div>

      </div>
    </div>
    <div class="form-group">
      <label for="input-additional-note">Additional informations about your order</label>
      <textarea rows="5"
             type="text"
             class="form-control"
             id="input-additional-note"
             [(ngModel)]="orderDetails.additionalNote"
             name="note"
             #note="ngModel"
             [ngClass]="{ 'is-invalid': form.submitted && note.invalid }"> </textarea>
      <small class="form-text text-muted">(Optional)</small>
    </div>
    <div class="row">
      <div class="continue-button col">
        <button type="submit" class="continue-button btn btn-success">Continue</button>
    </div>
    </div>
  </form>
</div>
